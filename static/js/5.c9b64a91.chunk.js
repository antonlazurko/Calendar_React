(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[5],{105:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N}));var a=n(15),i=n.n(a),r=n(26),c=n(89),s=n(98),o=n(101),d=n(0),u=n(17),l=n(39),b=n(36),j=n(104),m=n(100),O=n(52),h=n(3),f=function(e){var t=e.handleClose,n=e.modalShow,a=e.controlOptions,i=e.handleSubmit,r=a.participants,o=a.daysArray,u=a.timeArray,l=Object(d.useState)(""),f=Object(c.a)(l,2),p=f[0],x=f[1],v=Object(d.useState)(),y=Object(c.a)(v,2),N=y[0],g=y[1],C=Object(d.useState)(""),T=Object(c.a)(C,2),w=T[0],S=T[1],A=Object(d.useState)(""),E=Object(c.a)(A,2),P=E[0],I=E[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(j.a,{show:n,onHide:t,animation:!1,children:[Object(h.jsx)(j.a.Header,{closeButton:!0,children:Object(h.jsx)(j.a.Title,{children:"Create event"})}),Object(h.jsxs)(j.a.Body,{children:[Object(h.jsxs)(m.a,{size:"sm",className:"mb-3",onChange:function(e){return x(e.target.value)},children:[Object(h.jsx)(m.a.Prepend,{children:Object(h.jsx)(m.a.Text,{id:"inputGroup-sizing-sm",children:"Name"})}),Object(h.jsx)(O.a,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm"})]}),Object(h.jsx)(b.c,{multiple:!0,onChange:function(e){return g(e)},selectArray:r,selectorName:"participant"}),Object(h.jsx)(b.c,{multiple:!1,onChange:function(e){return S(Number(e))},selectArray:o,selectorName:"day"}),Object(h.jsx)(b.c,{multiple:!1,onChange:function(e){return I(Number(e))},selectArray:u,selectorName:"time"})]}),Object(h.jsxs)(j.a.Footer,{children:[Object(h.jsx)(s.a,{variant:"secondary",onClick:t,children:"Close"}),Object(h.jsx)(s.a,{variant:"primary",onClick:function(){return i(N,p,w,P)},children:"Create event"})]})]})})},p=n(92),x=n(23),v=n(97),y=n.n(v);function N(e){var t=e.user,n=Object(u.c)(x.e.getEventsData).events,a=Object(u.b)(),j=Object(d.useState)([]),m=Object(c.a)(j,2),O=m[0],v=m[1],N=Object(d.useState)(""),g=Object(c.a)(N,2),C=g[0],T=g[1],w=Object(d.useState)(!1),S=Object(c.a)(w,2),A=S[0],E=S[1];Object(d.useEffect)((function(){return a(x.c.getEventOperation())}),[a]);var P=function(e,t,a,i){return""===t?(l.b.error("Please type event name!",{position:l.b.POSITION.TOP_CENTER}),!1):""===a?(l.b.error("Please choose day!",{position:l.b.POSITION.TOP_CENTER}),!1):""===i?(l.b.error("Please choose time!",{position:l.b.POSITION.TOP_CENTER}),!1):0===e.length?(l.b.error("Please choose participant!",{position:l.b.POSITION.TOP_CENTER}),!1):!n.filter((function(e){return e.data.info.day===a&&e.data.info.time===i})).length||(l.b.error("Please choose other time or date!",{position:l.b.POSITION.TOP_CENTER}),!1)},I=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r,c){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(t,n,r,c)){e.next=2;break}return e.abrupt("return");case 2:s={title:"'".concat(n,"'"),participants:t,info:{day:r,time:c}},a(x.c.addEventOperation(s)),E(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){v(C?n.filter((function(e){return e.data.participants.includes(C)})):n)}),[C,n]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:y.a.header,children:[Object(h.jsx)(b.c,{chooseAll:!0,selectArray:p.b,onChange:function(e){T(e?Number(e):"")},multiple:!1,selectorName:"participant"}),Object(h.jsx)(s.a,{variant:"primary",disabled:!t.isAdmin,onClick:function(){return E(!0)},children:"Create event"})]}),Object(h.jsxs)(o.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"#"}),p.a.map((function(e){return Object(h.jsx)("th",{children:e.name},e.id)}))]})}),Object(h.jsx)("tbody",{children:p.c.map((function(e,n){var i=null===O||void 0===O?void 0:O.filter((function(e){return e.data.info.time===n})),r=new Array(5).fill("");return null===i||void 0===i||i.map((function(e){var t=e.data.info.day;return r[t]={name:"".concat(e.data.title),id:e.id,className:"succes"},!0})),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.name}),r.map((function(e,n){return Object(h.jsxs)("td",{className:y.a.td,children:[e.name||"",e.name&&Object(h.jsx)(s.a,{"data-id":e.id,variant:"info",disabled:!t.isAdmin,onClick:function(e){return function(e){var t=e.target;if("BUTTON"===t.tagName&&window.confirm('Are you shure you want to delete "'.concat(t.parentNode.textContent,'" event?'))){var n=e.target.getAttribute("data-id");a(x.c.deleteEventOperation(n)),t.parentNode.innerHTML=""}}(e)},className:y.a.deleteBtn,children:"x"},e.id)]},e.id||n)}))]},e.id)}))})]}),A&&Object(h.jsx)(f,{modalShow:A,handleSubmit:I,handleClose:function(){return E(!1)},controlOptions:{participants:p.b,daysArray:p.a,timeArray:p.c}})]})}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(94),i=n(91),r=n(90),c=function e(t){Object(r.a)(this,e),this.isAdmin=!1,this.user=t},s=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).isAdmin=!0,a}return n}(c),o=[{id:0,name:"monday"},{id:1,name:"thuesday"},{id:2,name:"wednesday"},{id:3,name:"thursday"},{id:4,name:"friday"}],d=[{id:0,name:"10:00"},{id:1,name:"11:00"},{id:2,name:"12:00"},{id:3,name:"13:00"},{id:4,name:"14:00"},{id:5,name:"15:00"},{id:6,name:"16:00"},{id:7,name:"17:00"},{id:8,name:"18:00"}],u=[new c({id:1,name:"John",meetings:[]}),new c({id:2,name:"Maria",meetings:[]}),new c({id:3,name:"David",meetings:[]}),new c({id:4,name:"Anna",meetings:[]}),new s({id:5,name:"BIG BOSS",meetings:[]})]},97:function(e,t,n){e.exports={header:"MainView_header__Bnb5Y",deleteBtn:"MainView_deleteBtn__26nOX"}}}]);
//# sourceMappingURL=5.c9b64a91.chunk.js.map