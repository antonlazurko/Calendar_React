(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[5],{43:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(97),r=n(1);function c(e){var t=e.multiple,n=e.onChange,c=e.selectArray,i=e.selectorName,s=function(e){if(e.multiple){for(var t=[],a=e.options,r=0;r<a.length;r+=1)a[r].selected&&t.push(Number(a[r].value));n(t)}else n(Number(e.value))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(a.a,{id:i,children:Object(r.jsxs)(a.a.Group,{controlId:"exampleForm.SelectCustom",children:[Object(r.jsxs)(a.a.Label,{children:["Select ","".concat(i)]}),Object(r.jsx)(a.a.Control,{className:"selector",as:"select",multiple:t,custom:!0,onChange:function(e){return s(e.target)},children:null===c||void 0===c?void 0:c.map((function(e){var t,n,a;return Object(r.jsx)("option",{value:(null===(n=e.user)||void 0===n?void 0:n.id)||e.id,children:(null===(a=e.user)||void 0===a?void 0:a.name)||e.name},(null===(t=e.user)||void 0===t?void 0:t.id)||e.id)}))})]})})})}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return d}));var a=n(62),r=n(60),c=n(47),i=function e(t){Object(c.a)(this,e),this.isAdmin=!1,this.user=t},s=function(e){Object(a.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).isAdmin=!0,a}return n}(i),u=[{id:0,name:"monday"},{id:1,name:"thuesday"},{id:2,name:"wednesday"},{id:3,name:"thursday"},{id:4,name:"friday"}],o=[{id:0,name:"10:00"},{id:1,name:"11:00"},{id:2,name:"12:00"},{id:3,name:"13:00"},{id:4,name:"14:00"},{id:5,name:"15:00"},{id:6,name:"16:00"},{id:7,name:"17:00"},{id:8,name:"18:00"}],d=[new i({id:1,name:"John",meetings:[]}),new i({id:2,name:"Maria",meetings:[]}),new i({id:3,name:"David",meetings:[]}),new i({id:4,name:"Anna",meetings:[]}),new s({id:5,name:"BIG BOSS",meetings:[]})]},89:function(e,t,n){e.exports={header:"MainView_header__Bnb5Y",deleteBtn:"MainView_deleteBtn__26nOX"}},98:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var a=n(50),r=n.n(a),c=n(90),i=n(51),s=n(17),u=n(99),o=n(93),d=n(0),l=n(65),b=n.n(l),p=n(18),m=n(43),f=n(96),j=n(92),O=n(66),h=n(1);function v(e){var t=e.handleClose,n=e.modalShow,a=e.controlOptions,r=e.handleSubmit,c=a.participants,i=a.daysArray,o=a.timeArray,l=Object(d.useState)(""),b=Object(s.a)(l,2),p=b[0],v=b[1],x=Object(d.useState)(),y=Object(s.a)(x,2),g=y[0],N=y[1],T=Object(d.useState)(""),w=Object(s.a)(T,2),E=w[0],C=w[1],S=Object(d.useState)(""),P=Object(s.a)(S,2),k=P[0],I=P[1];return Object(d.useEffect)((function(){console.log(g)}),[g]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(f.a,{show:n,onHide:t,animation:!1,children:[Object(h.jsx)(f.a.Header,{closeButton:!0,children:Object(h.jsx)(f.a.Title,{children:"Create event"})}),Object(h.jsxs)(f.a.Body,{children:[Object(h.jsxs)(j.a,{size:"sm",className:"mb-3",onChange:function(e){return v(e.target.value)},children:[Object(h.jsx)(j.a.Prepend,{children:Object(h.jsx)(j.a.Text,{id:"inputGroup-sizing-sm",children:"Name"})}),Object(h.jsx)(O.a,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm"})]}),Object(h.jsx)(m.a,{multiple:!0,onChange:function(e){return N(e)},selectArray:c,selectorName:"participant"}),Object(h.jsx)(m.a,{multiple:!1,onChange:function(e){return C(Number(e))},selectArray:i,selectorName:"day"}),Object(h.jsx)(m.a,{multiple:!1,onChange:function(e){return I(Number(e))},selectArray:o,selectorName:"time"})]}),Object(h.jsxs)(f.a.Footer,{children:[Object(h.jsx)(u.a,{variant:"secondary",onClick:t,children:"Close"}),Object(h.jsx)(u.a,{variant:"primary",onClick:function(){return r(g,p,E,k)},children:"Create event"})]})]})})}var x=n(48),y=n(47),g=n(69),N=n(70),T=n.n(N),w="anton_lazurko",E="events",C="http://158.101.166.74:8080/api/data/",S=null,P=new(function(){function e(){return Object(y.a)(this,e),S||(S=this),S}return Object(g.a)(e,[{key:"getEvent",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(C).concat(w,"/").concat(E));case 3:return t=e.sent,n=t.data,a=t.status,e.abrupt("return",{data:n,status:a});case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"addEvent",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post("".concat(C).concat(w,"/").concat(E),t);case 3:return n=e.sent,a=n.data,c=n.status,e.abrupt("return",{data:a,status:c});case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteEvent",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.delete("".concat(C).concat(w,"/").concat(E,"/").concat(t));case 3:return n=e.sent,a=n.status,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()),k=n(89),I=n.n(k);function A(e){var t=e.user,n=Object(d.useState)([]),a=Object(s.a)(n,2),l=a[0],f=a[1],j=Object(d.useState)([]),O=Object(s.a)(j,2),y=O[0],g=O[1],N=Object(d.useState)(""),T=Object(s.a)(N,2),w=T[0],E=T[1],C=Object(d.useState)(!1),S=Object(s.a)(C,2),k=S[0],A=S[1],_=function(e,t,n,a){return""===t?(p.b.error("Please type event name!",{position:p.b.POSITION.TOP_CENTER}),!1):""===n?(p.b.error("Please choose day!",{position:p.b.POSITION.TOP_CENTER}),!1):""===a?(p.b.error("Please choose time!",{position:p.b.POSITION.TOP_CENTER}),!1):0===e.length?(p.b.error("Please choose participant!",{position:p.b.POSITION.TOP_CENTER}),!1):!l.filter((function(e){return e.data.info.day===n&&e.data.info.time===a})).length||(p.b.error("Please choose other time or date!",{position:p.b.POSITION.TOP_CENTER}),!1)},B=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a,i){var s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t,n,a,i);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return s={title:"'".concat(n,"'"),participants:t,info:{day:a,time:i}},u=JSON.stringify(s).replace(/"/g,""),e.next=8,P.addEvent('{\n    "data":"'.concat(u,'"\n  }')).then((function(e){var t=e.data;if(200===e.status){p.b.success("Event succesfully added!",{position:p.b.POSITION.TOP_CENTER});var n={id:t.id,data:b.a.parse(t.data)};f((function(e){return[].concat(Object(c.a)(e),[n])}))}}));case 8:A(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BUTTON"!==(n=t.target).tagName){e.next=7;break}if(!window.confirm('Are you shure you want to delete "'.concat(n.parentNode.textContent,'" event?'))){e.next=7;break}return a=t.target.getAttribute("data-id"),e.next=7,P.deleteEvent(a).then((function(e){204===e&&(p.b.success("Event succesfully deleted!",{position:p.b.POSITION.TOP_CENTER}),n.parentNode.innerHTML="")}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){function e(){return(e=Object(i.a)(r.a.mark((function e(){var t,n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getEvent();case 2:if(t=e.sent,n=t.data,a=t.status,!n){e.next=10;break}return c=null===n||void 0===n?void 0:n.map((function(e){return{id:e.id,data:b.a.parse(e.data)}})),f(c),p.b.success("Events succesfully get with status: ".concat(a,"!"),{position:p.b.POSITION.TOP_CENTER}),e.abrupt("return");case 10:p.b.success("There are no events in your calendar yet!",{position:p.b.POSITION.TOP_CENTER}),f([]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(d.useEffect)((function(){g(w?l.filter((function(e){return e.data.participants.includes(w)})):l)}),[w,l]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:I.a.header,children:[Object(h.jsx)(m.a,{selectArray:x.b,onChange:function(e){E(e?Number(e):"")},multiple:!1,selectorName:"participant"}),Object(h.jsx)(u.a,{variant:"primary",disabled:!t.isAdmin,onClick:function(){return A(!0)},children:"Create event"})]}),Object(h.jsxs)(o.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"#"}),x.a.map((function(e){return Object(h.jsx)("th",{children:e.name},e.id)}))]})}),Object(h.jsx)("tbody",{children:x.c.map((function(e,n){var a=null===y||void 0===y?void 0:y.filter((function(e){return e.data.info.time===n})),r=new Array(5).fill("");return null===a||void 0===a||a.map((function(e){var t=e.data.info.day;return r[t]={name:"".concat(e.data.title),id:e.id,className:"succes"},!0})),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.name}),r.map((function(e,n){return Object(h.jsxs)("td",{className:I.a.td,children:[e.name||"",e.name&&Object(h.jsx)(u.a,{"data-id":e.id,variant:"info",disabled:!t.isAdmin,onClick:function(e){return R(e)},className:I.a.deleteBtn,children:"x"},e.id)]},e.id||n)}))]},e.id)}))})]}),k&&Object(h.jsx)(v,{modalShow:k,handleSubmit:B,handleClose:function(){return A(!1)},controlOptions:{participants:x.b,daysArray:x.a,timeArray:x.c}})]})}}}]);
//# sourceMappingURL=5.54e64293.chunk.js.map